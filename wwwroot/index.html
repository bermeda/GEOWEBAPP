<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>GeoWebMap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@7.3.0/ol.css" />
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        .legend-color {
            display: inline-block;
            width: 15px;
            height: 15px;
            margin-right: 20px;
            vertical-align: middle;
        }

        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
            background: white;
            padding: 10px;
            border: 1px solid #ccc;
        }

        #categoryFilter {
            width: 100px;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <div id="legend"
        style="position: absolute; bottom: 10px; right: 10px; background: white; border: 1px solid #ccc; padding: 10px; font-size: 14px;z-index: 100;">
        <strong>Legend</strong>
        <div><span class="legend-color" style="background-color: rgba(233, 24, 24, 0.6);"></span> Restaurant</div>
        <div><span class="legend-color" style="background-color: rgba(100, 255, 100, 0.6);"></span> School</div>
        <div><span class="legend-color" style="background-color: rgba(100, 100, 255, 0.6);"></span> Hospital</div>
    </div>
    <div id="controls">
        <button onclick="startDraw('Point')">Add Point</button>
        <button onclick="startDraw('LineString')">Add Line</button>
        <button onclick="startDraw('Polygon')">Add Polygon</button>
        <select id="categoryFilter"></select>
        <button id="selectAreaBtn">Select Area</button>
        <fieldset>
            <legend>Find nearest</legend>
            <label>
                Category:
                <input id="nearestCategory" placeholder="e.g. restaurant (optional)" />
            </label>
            <label>
                Count:
                <input id="nearestCount" type="number" value="5" />
            </label>
            <button id="findNearest">Find Nearest</button>
        </fieldset>


    </div>
    <div id="map"></div>

    <!-- OpenLayers CDN -->
    <script src="https://cdn.jsdelivr.net/npm/ol@7.3.0/dist/ol.js"></script>

    <!-- âœ… External JS file with defer -->
    <script src="/js/map.js" defer></script>
</body>

</html>